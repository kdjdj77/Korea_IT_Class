<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>DOM eventListener</title>
</head>
<style>
div#demo {
	width:200px;
	height:200px;
	background-color: yellow;
	text-align: center;
	
}
</style>
<body>
<!-- 
event : ~~할때
event listener : 위 event 때에 동작하는 함수


특정 element 에 event listener 를 추가 하는 방법
	element.addEventListener("이벤트", 함수)
	element.on이벤트 = 함수 

특정 element 에 event listener 를 삭제 하는 방법
	element.removeEventListener("이벤트", 함수)
	element.on이벤트 = undefined

Listener 로 동작하는 함수는 이벤트 발생때마다 동작(호출)되는데
이때 발생된 이벤트 정보가 담긴 event 객체를 매개변수로 받을수 있다.
	event.type : 이벤트 타입
	event.target : 이벤트가 발생한 객체

DOM 모든 이벤트
	https://www.w3schools.com/jsref/dom_obj_event.asp
DOM event 객체	
	https://www.w3schools.com/jsref/obj_event.asp

※ 크롬 개발자 도구에서 EventListener 확인 가능	
-->
<div id="demo">이벤트 없어요</div><br>
<button id="add_event">이벤트 추가</button>
<button id="remove_event">이벤트 삭제</button>
<p id="event"></p>

<script>
var demoBox = document.getElementById("demo");
var addButton = document.getElementById("add_event"); 
var removeButton = document.getElementById("remove_event");

function clickHandler(event){
	document.getElementById('event').innerHTML = event.type + " " + event.target;

	let bgcolor = demoBox.style.background;
	if(bgcolor != 'greenyellow')
		demoBox.style.background = 'greenyellow';
	else
		demoBox.style.background = 'yellow';
}

function mouseOverHandler(event){
	document.getElementById('event').innerHTML = event.type + " " + event.target;
	demoBox.style.outline = "3px solid red";
}

addButton.addEventListener("click", function(){
	demoBox.addEventListener("click", clickHandler);
	demoBox.innerHTML = "클릭해보세요";

	demoBox.onmouseover = mouseOverHandler;
	demoBox.onmouseout = function(event){
		document.getElementById('event').innerHTML = event.type + " " + event.target;
		demoBox.style.outline = "";  // 스타일 속성 삭제. undefined 안된다.	
	}

});

removeButton.addEventListener("click", function(){
	demoBox.removeEventListener("click", clickHandler);
	demoBox.innerHTML = "이벤트 없어요";

	demoBox.onmouseover = undefined;
	demoBox.onmouseout = undefined;
});

</script>

<!-- window object 에 event handler 추가 -->
<p id="windowSize"></p>

<script>

// TODO

</script>

<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
</body>
</html>
